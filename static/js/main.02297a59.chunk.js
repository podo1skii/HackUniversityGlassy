(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{142:function(e,t,a){},143:function(e,t,a){},170:function(e,t){},173:function(e,t,a){"use strict";a.r(t);a(95),a(120);var n=a(0),r=a.n(n),l=a(27),c=a.n(l),i=a(28),s=a.n(i),o=a(7),u=a(8),d=a(10),m=a(9),h=a(11),v=a(6),p=a(1),f=(a(26),a(86)),b=a.n(f),E=a(87),g=a.n(E),y=a(88),O=a.n(y),j=a(93);function C(e){console.log(e);var t=new Date,a=new Date(e.split(".")[2],e.split(".")[1],e.split(".")[0]);return Math.round((t.valueOf()-a.valueOf())/1e3/60/60/24/365.25)}function S(e,t){switch(!0){case e<=10:return"\u0414\u043e\u043c\u043e\u0441\u0435\u0434";case e<=30:return"\u0424\u0430\u043d\u0430\u0442";case e<=50:return"\u041f\u0430\u0442\u0438\u043c\u0435\u0439\u043a\u0435\u0440";default:return 2===t?"\u041a\u043e\u0440\u043e\u043b\u044c \u0432\u0435\u0447\u0435\u0440\u0438\u043d\u043e\u043a":"\u041a\u043e\u0440\u043e\u043b\u0435\u0432\u0430 \u0432\u0435\u0447\u0435\u0440\u0438\u043d\u043e\u043a"}}function P(e){switch(!0){case e<=10:return"#228B22";case e<=30:return"#5281b7";case e<=50:return"#FF7F50";default:return"#FF0000"}}var k=a(89),x=a.n(k),T=a(90),U=a.n(T),w=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).state={activePanel:"profile",city:"\u0421\u0430\u043d\u043a\u0442-\u041f\u0435\u0442\u0435\u0440\u0431\u0443\u0440\u0433",gameCount:"",team:""},a.onChangePanel=a.onChangePanel.bind(Object(v.a)(Object(v.a)(a))),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"onChangePanel",value:function(e){this.setState({activePanel:e.currentTarget.dataset.panel})}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e,t,a={flexShrink:0,width:80,height:80,display:"flex",flexDirection:"column",alignItems:"center",fontSize:12};return r.a.createElement(p.View,{id:"profile",activePanel:this.state.activePanel},r.a.createElement(p.Panel,{id:"profile"},r.a.createElement(p.PanelHeader,null,"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"),this.props.fetchedUser&&r.a.createElement(r.a.Fragment,null,r.a.createElement(p.Group,null,r.a.createElement(p.Cell,{before:this.props.fetchedUser.photo_200?r.a.createElement(p.Avatar,{size:60,src:this.props.fetchedUser.photo_200}):null,size:"l",description:(t=C(this.props.fetchedUser.bdate),(t>9&&t<21?t+" \u043b\u0435\u0442":t%10===1?t+" \u0433\u043e\u0434":t%10<5?t+" \u0433\u043e\u0434\u0430":t%10>=5?t+" \u043b\u0435\u0442":void 0)+", "+(this.props.fetchedUser.city&&this.props.fetchedUser.city.title?this.props.fetchedUser.city.title:"")),bottomContent:r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(U.a,{style:{color:P(30)}}),r.a.createElement("div",{style:{lineHeight:"14px",fontSize:"14px",color:P(30),paddingLeft:"6px"}},S(1,"\u041f\u0430\u0440\u0435\u043d\u0435\u043a")," ",(e=1,e+" \u0443\u0440.")))},"".concat(this.props.fetchedUser.first_name," ").concat(this.props.fetchedUser.last_name))),r.a.createElement(p.Group,null,r.a.createElement(p.List,null,r.a.createElement(p.Cell,{before:r.a.createElement(x.a,null)},this.state.city))),r.a.createElement(p.Group,{title:"\u0414\u043e\u0441\u0442\u0438\u0436\u0435\u043d\u0438\u044f"},r.a.createElement(p.List,null,r.a.createElement(p.HorizontalScroll,null,r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{style:Object(j.a)({},a,{paddingLeft:4})},r.a.createElement("img",{src:"https://image.flaticon.com/icons/svg/1601/1601634.svg",alt:"archieve",style:{height:"64px",width:"64px"}})),r.a.createElement("div",{style:a},r.a.createElement("img",{src:"https://image.flaticon.com/icons/svg/1490/1490546.svg",alt:"archieve",style:{height:"64px",width:"64px"}})),r.a.createElement("div",{style:a},r.a.createElement("img",{src:"https://image.flaticon.com/icons/svg/1490/1490542.svg",alt:"archieve",style:{height:"64px",width:"64px"}})))))))))}}]),t}(r.a.Component),_=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).state={value:""},a.handleChange=a.handleChange.bind(Object(v.a)(Object(v.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(v.a)(Object(v.a)(a))),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"handleSubmit",value:function(e){alert("A name was submitted: "+this.state.value),e.preventDefault()}},{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",null,"Name:",r.a.createElement("input",{type:"text",value:this.state.value,onChange:this.handleChange})),r.a.createElement("input",{type:"submit",value:"Submit"}))}}]),t}(r.a.Component),I=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).state={activePanel:"events"},a.onChangePanel=a.onChangePanel.bind(Object(v.a)(Object(v.a)(a))),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"onChangePanel",value:function(e){this.setState({activePanel:e.currentTarget.dataset.panel})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(_,null),r.a.createElement("div",{className:"grid-images"},r.a.createElement("div",{className:"box"},"123"),r.a.createElement("div",{className:"box"},"123"),r.a.createElement("div",{className:"box"},"123"),r.a.createElement("div",{className:"box"},"123"),r.a.createElement("div",{className:"box"},"123"),r.a.createElement("div",{className:"box"},"123"),r.a.createElement("div",{className:"box"},"123"),r.a.createElement("div",{className:"box"},"123")))}}]),t}(r.a.Component),F=(a(142),a(91)),H=a.n(F),N=a(50),z=a.n(N),G=a(51),A=a.n(G),L=a(92),V=a.n(L);function B(e){var t=new XMLHttpRequest;if(t.open("GET",e,!0),t.send(),200===t.status){var a=t.responseText;return a=JSON.parse(a)}console.log(t.status+": "+t.statusText)}var D=Object(p.platform)(),M=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).state={order_id:"",number_str:"",activePanel:"events",popout:null},a.onChangePanel=a.onChangePanel.bind(Object(v.a)(Object(v.a)(a))),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"onChangePanel",value:function(e){this.setState({activePanel:e.currentTarget.dataset.panel})}},{key:"onCheckEvent",value:function(e){if("Good job"!==B((a=this.props.fetchedUser.id,n=this.state.order_id,l=this.state.number_str,"https://playground24.ru/APP/get_by_order_id.php?user_id="+a+"&order_id="+n+"&number_str="+l))){var t=r.a.createElement(p.FormStatus,{title:"\u041e\u0448\u0438\u0431\u043a\u0430",state:"error"},"\u0422\u0430\u043a\u043e\u0433\u043e \u0431\u0438\u043b\u0435\u0442\u0430 \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442");c.a.render(t,document.getElementById("statusForm"))}var a,n,l}},{key:"render",value:function(){var e=this;console.log(this.props.fetchedUser),setTimeout(console.log(1),1e3);var t=B("https://playground24.ru/APP/get_user_events.php?user_id="+this.props.fetchedUser.id);return r.a.createElement(p.View,{id:"events",activePanel:this.state.activePanel},r.a.createElement(p.Panel,{id:"events"},r.a.createElement(p.PanelHeader,{left:r.a.createElement(p.HeaderButton,{onClick:function(){return e.setState({activePanel:"create"})}},(p.IOS,r.a.createElement(A.a,null)))},"\u041c\u043e\u0438 \u0441\u043e\u0431\u044b\u0442\u0438\u044f"),r.a.createElement(r.a.Fragment,null,t.map(function(t){return r.a.createElement(p.Group,null,r.a.createElement(p.List,null,r.a.createElement(p.Cell,{before:r.a.createElement(p.Avatar,{size:64}),size:"l",description:r.a.createElement("div",null,t.type+", "),onClick:function(){return e.setState({activePanel:"eventinfo"})},asideContent:r.a.createElement("div",{style:{fontSize:"14px"}},r.a.createElement("div",null,t.date),r.a.createElement("div",null,"18:00"))},r.a.createElement("div",null,r.a.createElement("div",null,t.title),r.a.createElement("div",{style:{color:"#9ea1a5",fontWeight:"500",fontSize:"14px"}},t.artist)))))}))),r.a.createElement(p.Panel,{id:"eventinfo"},r.a.createElement(p.PanelHeader,{left:r.a.createElement(p.HeaderButton,{onClick:function(){return e.setState({activePanel:"events"})}},D===p.IOS?r.a.createElement(H.a,null):r.a.createElement(z.a,null))},"\u042d\u043c\u043e\u0446\u0438\u0438"),r.a.createElement(I,null)),r.a.createElement(p.Panel,{id:"create"},r.a.createElement(p.PanelHeader,{left:r.a.createElement(p.HeaderButton,{key:"filter",onClick:function(){return e.setState({activePanel:"events"})}},r.a.createElement(V.a,null))},"\u042d\u043c\u043e\u0446\u0438\u0438"),r.a.createElement(p.FormLayout,null,r.a.createElement(p.FormLayoutGroup,null,r.a.createElement("div",{id:"statusForm"}),r.a.createElement(p.Input,{type:"number",defaultValue:"\u041d\u043e\u043c\u0435\u0440 \u0437\u0430\u043a\u0430\u0437\u0430",onChange:function(t){e.setState({order_id:t.target.value})}}),r.a.createElement(p.Input,{type:"text",defaultValue:"\u041d\u043e\u043c\u0435\u0440 \u0431\u043b\u0430\u043d\u043a\u0430",onChange:function(t){e.setState({number_str:t.target.value})}})),r.a.createElement(p.Button,{size:"xl",level:"primary",onClick:this.onCheckEvent},"\u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u043d\u0430\u043b\u0438\u0447\u0438\u0435 \u0431\u0438\u043b\u0435\u0442\u0430"))))}}]),t}(r.a.Component),W=(a(143),a(144),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).state={id:a.props.fetchedUser.id,activeTab:a.props.activeTab},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(p.Panel,{id:"connect"},"connect"===this.state.activeTab&&r.a.createElement("img",{src:"https://img.icons8.com/nolan/512/000000/mts.png",id:"connect-round"}))}}]),t}(r.a.Component)),J=Object(p.platform)(),K=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).state={fetchedUser:a.props.fetchedUser,activePanel:"feed",activeTab:"connect"},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"onChangePanel",value:function(e){this.setState({activePanel:e.currentTarget.dataset.panel})}},{key:"render",value:function(){var e=this;return r.a.createElement(p.View,{id:"feed",activePanel:this.state.activePanel},r.a.createElement(p.Panel,{id:"feed"},r.a.createElement(p.PanelHeader,{noShadow:!0},J===p.IOS?r.a.createElement(p.Tabs,{theme:"header",style:{width:200}},r.a.createElement(p.TabsItem,{onClick:function(){return e.setState({activeTab:"connect"})},selected:"connect"===this.state.activeTab},"\u0417\u043d\u0430\u043a\u043e\u043c\u0441\u0442\u0432\u0430"),r.a.createElement(p.TabsItem,{onClick:function(){return e.setState({activeTab:"shop"})},selected:"shop"===this.state.activeTab},"\u041c\u0430\u0433\u0430\u0437\u0438\u043d")):"Tabs"),"connect"===this.state.activeTab&&r.a.createElement(W,{activeTab:this.state.activeTab,fetchedUser:this.props.fetchedUser})))}}]),t}(r.a.Component),R=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).state={activeStory:"feed",fetchedUser:null},a.onStoryChange=a.onStoryChange.bind(Object(v.a)(Object(v.a)(a))),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"onStoryChange",value:function(e){this.setState({activeStory:e.currentTarget.dataset.story})}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return s.a.subscribe(function(t){switch(t.detail.type){case"VKWebAppGetUserInfoResult":e.setState({fetchedUser:t.detail.data})}}),s.a.send("VKWebAppGetUserInfo",{}),r.a.createElement(p.Epic,{activeStory:this.state.activeStory,tabbar:r.a.createElement(p.Tabbar,null,r.a.createElement(p.TabbarItem,{onClick:this.onStoryChange,selected:"feed"===this.state.activeStory,"data-story":"feed"},r.a.createElement(g.a,null)),r.a.createElement(p.TabbarItem,{onClick:this.onStoryChange,selected:"events"===this.state.activeStory,"data-story":"events"},r.a.createElement(O.a,null)),r.a.createElement(p.TabbarItem,{onClick:this.onStoryChange,selected:"profile"===this.state.activeStory,"data-story":"profile"},r.a.createElement(b.a,null)))},r.a.createElement(w,{id:"profile",fetchedUser:this.state.fetchedUser}),r.a.createElement(M,{id:"events",fetchedUser:this.state.fetchedUser}),r.a.createElement(K,{id:"feed",fetchedUser:this.state.fetchedUser}))}}]),t}(r.a.Component);s.a.send("VKWebAppInit",{}),c.a.render(r.a.createElement(R,null),document.getElementById("root"))},94:function(e,t,a){e.exports=a(173)}},[[94,1,2]]]);
//# sourceMappingURL=main.02297a59.chunk.js.map